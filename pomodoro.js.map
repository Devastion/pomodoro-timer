{"version":3,"sources":["tasks.js","timer.js"],"names":["textarea","document","querySelector","add","list","clear","tasksStorage","newTask","task","box","createElement","className","h2","innerText","edit","textContent","remove","clearfix","innerHTML","outerHTML","append","render","elements","forEach","el","addEventListener","e","value","push","style","display","localStorage","setItem","JSON","stringify","alert","savedTasks","getItem","parse","confirm","event","target","classList","contains","childTask","parentNode","updateArray","children","index","indexOf","splice","removeChild","onclick","child","contentEditable","focus","updateTasks","i","length","remaining","currentTimer","countdown","rounds","play","pause","taskLabel","timerSettings","workTimer","title","seconds","color","shortTimer","longTimer","mainInput","shortInput","longInput","roundsInput","applyInput","Number","formatTimeLeft","roundCount","current","timeLeft","timerInterval","timePassed","timerSwitch","time","minutes","Math","floor","setCircleDasharray","circleDasharray","calculateTimeFraction","toFixed","setAttribute","DOMUpdate","label","backgroundColorChange","r","setProperty","timer","clearInterval","toggle","setInterval","nextElementSibling","previousElementSibling","window","onload","location","hash"],"mappings":"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","file":"pomodoro.js","sourcesContent":["const textarea = document.querySelector(\"#add-textarea\");\r\nconst add = document.querySelector(\"#add-btn\");\r\nconst list = document.querySelector(\"#list\");\r\nconst clear = document.querySelector(\"#clear\");\r\nlet tasksStorage = [];\r\n\r\nfunction newTask(task) {\r\n    let box = document.createElement(\"div\");\r\n    box.className = \"tasks-page__list---box\"\r\n\r\n    let h2 = document.createElement(\"h2\");\r\n    h2.innerText = task;\r\n\r\n    let edit = document.createElement(\"button\");\r\n    edit.className = \"edit\";\r\n    edit.textContent = \"Edit\";\r\n\r\n    let remove = document.createElement(\"button\");\r\n    remove.className = \"remove\";\r\n    remove.textContent = \"Remove\";\r\n\r\n    let clearfix = document.createElement(\"div\");\r\n    clearfix.className = \"clearfix\";\r\n\r\n    box.innerHTML = h2.outerHTML + edit.outerHTML + remove.outerHTML + clearfix.outerHTML;\r\n    list.append(box);\r\n}\r\n\r\nfunction render(elements){\r\n    list.innerHTML = \"\";\r\n    elements.forEach(el => newTask(el));\r\n}\r\n\r\nadd.addEventListener(\"click\", e => {\r\n    if(textarea.value !== \"\"){\r\n        tasksStorage.push(textarea.value);\r\n        textarea.value = \"\";\r\n        render(tasksStorage);\r\n        clear.style.display = \"block\";\r\n        localStorage.setItem(\"tasks\", JSON.stringify(tasksStorage));\r\n    } else {\r\n        alert(\"Please input a task!\")\r\n    }\r\n})\r\n\r\nlet savedTasks = localStorage.getItem(\"tasks\");\r\nif(savedTasks){\r\n    tasksStorage = JSON.parse(localStorage.getItem(\"tasks\"));\r\n    render(tasksStorage);\r\n    clear.style.display = \"block\";\r\n} else {\r\n    clear.style.display = \"none\";\r\n}\r\n\r\nclear.addEventListener(\"click\", () => {\r\n    if(confirm(\"Are you sure?\")){\r\n        localStorage.clear();\r\n        list.innerHTML = \"\";\r\n        tasksStorage = [];\r\n        clear.style.display = \"none\";\r\n    }\r\n})\r\n\r\nlist.addEventListener(\"click\", (event) => {\r\n    let e = event.target;\r\n    if(e.classList.contains(\"remove\")){\r\n        if(confirm(\"Are you sure?\")){\r\n            let childTask = e.parentNode;\r\n            let updateArray = childTask.children[0].textContent;\r\n            let index = tasksStorage.indexOf(updateArray);\r\n            tasksStorage.splice(index, 1);\r\n            localStorage.setItem(\"tasks\", JSON.stringify(tasksStorage))\r\n            list.removeChild(childTask);\r\n        }\r\n    }\r\n\r\n    if(e.textContent === \"Edit\"){\r\n        e.onclick = () => {\r\n            let child = e.parentNode;\r\n            child.children[0].contentEditable = \"true\";\r\n            child.children[0].focus();\r\n            e.textContent = \"Done\";\r\n        }\r\n    }\r\n\r\n    if(e.textContent === \"Done\"){\r\n        e.onclick = () => {\r\n            let child = e.parentNode;\r\n            child.children[0].contentEditable = \"false\";\r\n            e.textContent = \"Edit\";\r\n            updateTasks();\r\n        }\r\n    }\r\n})\r\n\r\nfunction updateTasks(){\r\n    tasksStorage = [];\r\n    for(let i = 0; i < list.children.length; i++){\r\n        tasksStorage.push(list.children[i].children[0].textContent);\r\n    }\r\n    localStorage.setItem(\"tasks\", JSON.stringify(tasksStorage));\r\n}","const remaining = document.querySelector(\"#remaining\");\r\nconst currentTimer = document.querySelector(\"#current\");\r\nconst countdown = document.querySelector(\"#countdown\");\r\nconst rounds = document.querySelector(\"#rounds\");\r\nconst play = document.querySelector(\"#play\");\r\nconst pause = document.querySelector(\"#pause\");\r\nconst taskLabel = document.querySelector(\"#task-label\");\r\n\r\nlet timerSettings = {\r\n    workTimer: {\r\n        title: \"Work timer\",\r\n        seconds: 5,\r\n        color: \"#FF7171\"\r\n    },\r\n    shortTimer: {\r\n        title: \"Short break timer\",\r\n        seconds: 10,\r\n        color: \"#6DDCCF\",\r\n    },\r\n    longTimer: {\r\n        title: \"Long break timer\",\r\n        seconds: 15,\r\n        color: \"#A1CAE2\"\r\n    },\r\n    rounds: 3\r\n};\r\n\r\nlet mainInput = document.querySelector(\"#mainInput\");\r\nlet shortInput = document.querySelector(\"#shortInput\");\r\nlet longInput = document.querySelector(\"#longInput\");\r\nlet roundsInput = document.querySelector(\"#roundsInput\");\r\nconst applyInput = document.querySelector(\"#inputApply\");\r\n\r\napplyInput.addEventListener(\"click\", () => {\r\n    timerSettings.workTimer.seconds = Number(mainInput.value) * 60;\r\n    timerSettings.shortTimer.seconds = Number(shortInput.value) * 60;\r\n    timerSettings.longTimer.seconds = Number(longInput.value) * 60;\r\n    timerSettings.rounds = Number(roundsInput.value);\r\n\r\n    countdown.textContent = formatTimeLeft(timerSettings.workTimer.seconds)\r\n    rounds.textContent = `Round ${roundCount+1} out of ${timerSettings.rounds}`\r\n\r\n    current = timerSettings.workTimer.seconds;\r\n})\r\n\r\nlet timeLeft,\r\n    timerInterval,\r\n    timePassed = 0,\r\n    roundCount = 0,\r\n    timerSwitch = 1,\r\n    current = timerSettings.workTimer.seconds;\r\n\r\nfunction formatTimeLeft(time) {\r\n    let minutes = Math.floor(time / 60);\r\n    let seconds = time % 60;\r\n\r\n    if (minutes < 10) {\r\n        minutes = `0${minutes}`;\r\n    }\r\n\r\n    if (seconds < 10) {\r\n        seconds = `0${seconds}`;\r\n    }\r\n\r\n    return `${minutes}:${seconds}`;\r\n}\r\n\r\nfunction setCircleDasharray() {\r\n    const circleDasharray = `${(\r\n        283 - (calculateTimeFraction() * 283)\r\n    ).toFixed(0)} 283`;\r\n    remaining.setAttribute(\"stroke-dasharray\", circleDasharray);\r\n}\r\n\r\nfunction calculateTimeFraction() {\r\n    return timeLeft / current;\r\n}\r\n\r\nfunction DOMUpdate(label){\r\n    countdown.textContent = formatTimeLeft(timeLeft);\r\n    currentTimer.textContent = label;\r\n    rounds.textContent = `Round ${roundCount+1} out of ${timerSettings.rounds}`;\r\n}\r\n\r\nfunction backgroundColorChange(color){\r\n    let r = document.querySelector(\":root\");\r\n    r.style.setProperty(\"--bg-color\", color);\r\n}\r\n\r\nfunction timer(){\r\n    timePassed = timePassed += 1;\r\n    timeLeft = current - timePassed;\r\n    countdown.textContent = formatTimeLeft(timeLeft);\r\n    setCircleDasharray();\r\n\r\n    if(timeLeft <= 0){\r\n        clearInterval(timerInterval);\r\n        play.classList.toggle('active');\r\n        pause.classList.toggle('active');\r\n        remaining.setAttribute(\"stroke-dasharray\", \"0 283\");\r\n        timePassed = 0;\r\n\r\n        if(roundCount >= timerSwitch){\r\n            timerSwitch++;\r\n            current = timerSettings.workTimer.seconds;\r\n            timeLeft = current - timePassed;\r\n            DOMUpdate(timerSettings.workTimer.title);\r\n            backgroundColorChange(timerSettings.workTimer.color)\r\n        } else {\r\n            roundCount++;\r\n            current = timerSettings.shortTimer.seconds;\r\n            timeLeft = current - timePassed;\r\n            DOMUpdate(timerSettings.shortTimer.title);\r\n            backgroundColorChange(timerSettings.shortTimer.color)\r\n        }\r\n\r\n        if (roundCount >= timerSettings.rounds) {\r\n            current = timerSettings.longTimer.seconds;\r\n            timeLeft = current - timePassed;\r\n            roundCount = 0;\r\n            timerSwitch = 0;\r\n            DOMUpdate(timerSettings.longTimer.title);\r\n            backgroundColorChange(timerSettings.longTimer.color)\r\n            list.children[0].remove();\r\n            updateTasks();\r\n        }\r\n\r\n    }\r\n}\r\n\r\nplay.addEventListener('click', function (){\r\n    clearInterval(timerInterval);\r\n    timerInterval = setInterval(timer, 1000);\r\n    this.nextElementSibling.classList.remove('active');\r\n    this.classList.add('active');\r\n    taskLabel.textContent = list.children[0].children[0].textContent;\r\n})\r\n\r\npause.addEventListener('click', function (){\r\n    clearInterval(timerInterval);\r\n    this.previousElementSibling.classList.remove('active');\r\n    this.classList.add('active');\r\n})\r\n\r\nwindow.onload = function (){\r\n    window.location.hash = \"#timer-page\"\r\n}"]}